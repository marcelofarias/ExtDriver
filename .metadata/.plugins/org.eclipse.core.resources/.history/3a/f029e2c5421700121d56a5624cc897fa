package com.sencha.extjs.driver;

import org.openqa.selenium.WebElement;

public class FormFixture extends ExtComponentFixture {

	public FormFixture(String id, ExtDriver driver) {
		super(id, driver);
		requireClassName("Ext.form.Panel");
	}
	
	private boolean isExpanded() {
		Object collapsed = getDriver().executeScript("return Ext.getCmp(arguments[0]).collapsed", getId());
		return Boolean.FALSE.equals(collapsed));
	}
	
	public void requireExpanded() {
		Object collapsed = getDriver().executeScript("return Ext.getCmp(arguments[0]).collapsed", getId());
		if (!Boolean.FALSE.equals(collapsed)) {
			throw new ExtDriverException("Form should be expanded");
		}
	}

	public void requireCollapsed() {
		Object collapsed = getDriver().executeScript("return Ext.getCmp(arguments[0]).collapsed", getId());
		if (Boolean.FALSE.equals(collapsed)) {
			throw new ExtDriverException("Form should be collapsed");
		}		
	}
	
	public void collapse() {
		WebElement collapseTool = (WebElement) getDriver().executeScript("return Ext.get(arguments[0]).select('.x-panel-header .x-tool img').elements[0]", getId());
		System.out.println(result);
	}


	public void expand() {
		// TODO Auto-generated method stub
		
	}

}

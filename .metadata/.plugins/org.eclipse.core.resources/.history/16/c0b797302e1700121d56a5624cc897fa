package com.sencha.extjs.driver;

import java.io.File;
import java.io.IOException;

import org.openqa.selenium.JavascriptExecutor;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.firefox.FirefoxProfile;

public class ExtApplicationFixture {
	
	private WebDriver driver;
	private JavascriptExecutor executor;
	
	protected ExtApplicationFixture(String url) {
		try {
		   File file = new File("lib/firebug-1.9.2.xpi");
		   FirefoxProfile firefoxProfile = new FirefoxProfile();
		   firefoxProfile.addExtension(file);
		   firefoxProfile.setPreference("extensions.firebug.currentVersion", "1.9.2"); // Avoid startup screen
		   
		   driver = new FirefoxDriver(firefoxProfile);
		   executor = (JavascriptExecutor) driver;
		   
		   driver.get(url);
		} catch (IOException e) {
			throw new ExtDriverException()
		}
	}

}
